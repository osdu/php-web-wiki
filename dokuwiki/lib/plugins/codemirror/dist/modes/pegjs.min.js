(function(a){if(typeof exports=="object"&&typeof module=="object")a(require("../../lib/codemirror"),require("../javascript/javascript"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","../javascript/javascript"],a);else a(CodeMirror)})(function(a){"use strict";a.defineMode("pegjs",function(b){var c=a.getMode(b,"javascript");function d(a){return a.match(/^[a-zA-Z_][a-zA-Z0-9_]*/)}return{startState:function(){return{inString:false,stringType:null,inComment:false,inCharacterClass:false,braced:0,lhs:true,localState:null}},token:function(b,e){if(b)if(!e.inString&&!e.inComment&&(b.peek()=='"'||b.peek()=="'")){e.stringType=b.peek();b.next();e.inString=true}if(!e.inString&&!e.inComment&&b.match(/^\/\*/)){e.inComment=true}if(e.inString){while(e.inString&&!b.eol()){if(b.peek()===e.stringType){b.next();e.inString=false}else if(b.peek()==="\\"){b.next();b.next()}else{b.match(/^.[^\\\"\']*/)}}return e.lhs?"property string":"string"}else if(e.inComment){while(e.inComment&&!b.eol()){if(b.match(/\*\//)){e.inComment=false}else{b.match(/^.[^\*]*/)}}return"comment"}else if(e.inCharacterClass){while(e.inCharacterClass&&!b.eol()){if(!(b.match(/^[^\]\\]+/)||b.match(/^\\./))){e.inCharacterClass=false}}}else if(b.peek()==="["){b.next();e.inCharacterClass=true;return"bracket"}else if(b.match(/^\/\//)){b.skipToEnd();return"comment"}else if(e.braced||b.peek()==="{"){if(e.localState===null){e.localState=a.startState(c)}var f=c.token(b,e.localState);var g=b.current();if(!f){for(var h=0;h<g.length;h++){if(g[h]==="{"){e.braced++}else if(g[h]==="}"){e.braced--}}}return f}else if(d(b)){if(b.peek()===":"){return"variable"}return"variable-2"}else if(["[","]","(",")"].indexOf(b.peek())!=-1){b.next();return"bracket"}else if(!b.eatSpace()){b.next()}return null}}},"javascript")});
//# sourceMappingURL=pegjs.min.js.map