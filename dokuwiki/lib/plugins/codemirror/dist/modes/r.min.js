(function(a){if(typeof exports=="object"&&typeof module=="object")a(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],a);else a(CodeMirror)})(function(a){"use strict";a.registerHelper("wordChars","r",/[\w.]/);a.defineMode("r",function(a){function b(a){var b=a.split(" "),c={};for(var d=0;d<b.length;++d)c[b[d]]=true;return c}var c=b("NULL NA Inf NaN NA_integer_ NA_real_ NA_complex_ NA_character_");var d=b("list quote bquote eval return call parse deparse");var e=b("if else repeat while function for in next break");var f=b("if else repeat while function for");var g=/[+\-*\/^<>=!&|~$:]/;var h;function i(a,b){h=null;var i=a.next();if(i=="#"){a.skipToEnd();return"comment"}else if(i=="0"&&a.eat("x")){a.eatWhile(/[\da-f]/i);return"number"}else if(i=="."&&a.eat(/\d/)){a.match(/\d*(?:e[+\-]?\d+)?/);return"number"}else if(/\d/.test(i)){a.match(/\d*(?:\.\d+)?(?:e[+\-]\d+)?L?/);return"number"}else if(i=="'"||i=='"'){b.tokenize=j(i);return"string"}else if(i=="`"){a.match(/[^`]+`/);return"variable-3"}else if(i=="."&&a.match(/.[.\d]+/)){return"keyword"}else if(/[\w\.]/.test(i)&&i!="_"){a.eatWhile(/[\w\.]/);var k=a.current();if(c.propertyIsEnumerable(k))return"atom";if(e.propertyIsEnumerable(k)){if(f.propertyIsEnumerable(k)&&!a.match(/\s*if(\s+|$)/,false))h="block";return"keyword"}if(d.propertyIsEnumerable(k))return"builtin";return"variable"}else if(i=="%"){if(a.skipTo("%"))a.next();return"operator variable-2"}else if(i=="<"&&a.eat("-")||i=="<"&&a.match("<-")||i=="-"&&a.match(/>>?/)){return"operator arrow"}else if(i=="="&&b.ctx.argList){return"arg-is"}else if(g.test(i)){if(i=="$")return"operator dollar";a.eatWhile(g);return"operator"}else if(/[\(\){}\[\];]/.test(i)){h=i;if(i==";")return"semi";return null}else{return null}}function j(a){return function(b,c){if(b.eat("\\")){var d=b.next();if(d=="x")b.match(/^[a-f0-9]{2}/i);else if((d=="u"||d=="U")&&b.eat("{")&&b.skipTo("}"))b.next();else if(d=="u")b.match(/^[a-f0-9]{4}/i);else if(d=="U")b.match(/^[a-f0-9]{8}/i);else if(/[0-7]/.test(d))b.match(/^[0-7]{1,2}/);return"string-2"}else{var e;while((e=b.next())!=null){if(e==a){c.tokenize=i;break}if(e=="\\"){b.backUp(1);break}}return"string"}}}var k=1,l=2,m=4;function n(a,b,c){a.ctx={type:b,indent:a.indent,flags:0,column:c.column(),prev:a.ctx}}function o(a,b){var c=a.ctx;a.ctx={type:c.type,indent:c.indent,flags:c.flags|b,column:c.column,prev:c.prev}}function p(a){a.indent=a.ctx.indent;a.ctx=a.ctx.prev}return{startState:function(){return{tokenize:i,ctx:{type:"top",indent:-a.indentUnit,flags:l},indent:0,afterIdent:false}},token:function(a,b){if(a.sol()){if((b.ctx.flags&3)==0)b.ctx.flags|=l;if(b.ctx.flags&m)p(b);b.indent=a.indentation()}if(a.eatSpace())return null;var c=b.tokenize(a,b);if(c!="comment"&&(b.ctx.flags&l)==0)o(b,k);if((h==";"||h=="{"||h=="}")&&b.ctx.type=="block")p(b);if(h=="{")n(b,"}",a);else if(h=="("){n(b,")",a);if(b.afterIdent)b.ctx.argList=true}else if(h=="[")n(b,"]",a);else if(h=="block")n(b,"block",a);else if(h==b.ctx.type)p(b);else if(b.ctx.type=="block"&&c!="comment")o(b,m);b.afterIdent=c=="variable"||c=="keyword";return c},indent:function(b,c){if(b.tokenize!=i)return 0;var d=c&&c.charAt(0),e=b.ctx,f=d==e.type;if(e.flags&m)e=e.prev;if(e.type=="block")return e.indent+(d=="{"?0:a.indentUnit);else if(e.flags&k)return e.column+(f?0:1);else return e.indent+(f?0:a.indentUnit)},lineComment:"#"}});a.defineMIME("text/x-rsrc","r")});
//# sourceMappingURL=r.min.js.map