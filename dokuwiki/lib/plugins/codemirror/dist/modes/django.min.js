(function(a){if(typeof exports=="object"&&typeof module=="object")a(require("../../lib/codemirror"),require("../htmlmixed/htmlmixed"),require("../../addon/mode/overlay"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","../htmlmixed/htmlmixed","../../addon/mode/overlay"],a);else a(CodeMirror)})(function(a){"use strict";a.defineMode("django:inner",function(){var a=["block","endblock","for","endfor","true","false","filter","endfilter","loop","none","self","super","if","elif","endif","as","else","import","with","endwith","without","context","ifequal","endifequal","ifnotequal","endifnotequal","extends","include","load","comment","endcomment","empty","url","static","trans","blocktrans","endblocktrans","now","regroup","lorem","ifchanged","endifchanged","firstof","debug","cycle","csrf_token","autoescape","endautoescape","spaceless","endspaceless","ssi","templatetag","verbatim","endverbatim","widthratio"],b=["add","addslashes","capfirst","center","cut","date","default","default_if_none","dictsort","dictsortreversed","divisibleby","escape","escapejs","filesizeformat","first","floatformat","force_escape","get_digit","iriencode","join","last","length","length_is","linebreaks","linebreaksbr","linenumbers","ljust","lower","make_list","phone2numeric","pluralize","pprint","random","removetags","rjust","safe","safeseq","slice","slugify","stringformat","striptags","time","timesince","timeuntil","title","truncatechars","truncatechars_html","truncatewords","truncatewords_html","unordered_list","upper","urlencode","urlize","urlizetrunc","wordcount","wordwrap","yesno"],c=["==","!=","<",">","<=",">="],d=["in","not","or","and"];a=new RegExp("^\\b("+a.join("|")+")\\b");b=new RegExp("^\\b("+b.join("|")+")\\b");c=new RegExp("^\\b("+c.join("|")+")\\b");d=new RegExp("^\\b("+d.join("|")+")\\b");function e(a,b){if(a.match("{{")){b.tokenize=g;return"tag"}else if(a.match("{%")){b.tokenize=h;return"tag"}else if(a.match("{#")){b.tokenize=i;return"comment"}while(a.next()!=null&&!a.match(/\{[{%#]/,false)){}return null}function f(a,b){return function(c,d){if(!d.escapeNext&&c.eat(a)){d.tokenize=b}else{if(d.escapeNext){d.escapeNext=false}var e=c.next();if(e=="\\"){d.escapeNext=true}}return"string"}}function g(a,c){if(c.waitDot){c.waitDot=false;if(a.peek()!="."){return"null"}if(a.match(/\.\W+/)){return"error"}else if(a.eat(".")){c.waitProperty=true;return"null"}else{throw Error("Unexpected error while waiting for property.")}}if(c.waitPipe){c.waitPipe=false;if(a.peek()!="|"){return"null"}if(a.match(/\.\W+/)){return"error"}else if(a.eat("|")){c.waitFilter=true;return"null"}else{throw Error("Unexpected error while waiting for filter.")}}if(c.waitProperty){c.waitProperty=false;if(a.match(/\b(\w+)\b/)){c.waitDot=true;c.waitPipe=true;return"property"}}if(c.waitFilter){c.waitFilter=false;if(a.match(b)){return"variable-2"}}if(a.eatSpace()){c.waitProperty=false;return"null"}if(a.match(/\b\d+(\.\d+)?\b/)){return"number"}if(a.match("'")){c.tokenize=f("'",c.tokenize);return"string"}else if(a.match('"')){c.tokenize=f('"',c.tokenize);return"string"}if(a.match(/\b(\w+)\b/)&&!c.foundVariable){c.waitDot=true;c.waitPipe=true;return"variable"}if(a.match("}}")){c.waitProperty=null;c.waitFilter=null;c.waitDot=null;c.waitPipe=null;c.tokenize=e;return"tag"}a.next();return"null"}function h(g,h){if(h.waitDot){h.waitDot=false;if(g.peek()!="."){return"null"}if(g.match(/\.\W+/)){return"error"}else if(g.eat(".")){h.waitProperty=true;return"null"}else{throw Error("Unexpected error while waiting for property.")}}if(h.waitPipe){h.waitPipe=false;if(g.peek()!="|"){return"null"}if(g.match(/\.\W+/)){return"error"}else if(g.eat("|")){h.waitFilter=true;return"null"}else{throw Error("Unexpected error while waiting for filter.")}}if(h.waitProperty){h.waitProperty=false;if(g.match(/\b(\w+)\b/)){h.waitDot=true;h.waitPipe=true;return"property"}}if(h.waitFilter){h.waitFilter=false;if(g.match(b)){return"variable-2"}}if(g.eatSpace()){h.waitProperty=false;return"null"}if(g.match(/\b\d+(\.\d+)?\b/)){return"number"}if(g.match("'")){h.tokenize=f("'",h.tokenize);return"string"}else if(g.match('"')){h.tokenize=f('"',h.tokenize);return"string"}if(g.match(c)){return"operator"}if(g.match(d)){return"keyword"}var i=g.match(a);if(i){if(i[0]=="comment"){h.blockCommentTag=true}return"keyword"}if(g.match(/\b(\w+)\b/)){h.waitDot=true;h.waitPipe=true;return"variable"}if(g.match("%}")){h.waitProperty=null;h.waitFilter=null;h.waitDot=null;h.waitPipe=null;if(h.blockCommentTag){h.blockCommentTag=false;h.tokenize=j}else{h.tokenize=e}return"tag"}g.next();return"null"}function i(a,b){if(a.match(/^.*?#\}/))b.tokenize=e;else a.skipToEnd();return"comment"}function j(a,b){if(a.match(/\{%\s*endcomment\s*%\}/,false)){b.tokenize=h;a.match("{%");return"tag"}else{a.next();return"comment"}}return{startState:function(){return{tokenize:e}},token:function(a,b){return b.tokenize(a,b)},blockCommentStart:"{% comment %}",blockCommentEnd:"{% endcomment %}"}});a.defineMode("django",function(b){var c=a.getMode(b,"text/html");var d=a.getMode(b,"django:inner");return a.overlayMode(c,d)});a.defineMIME("text/x-django","django")});
//# sourceMappingURL=django.min.js.map