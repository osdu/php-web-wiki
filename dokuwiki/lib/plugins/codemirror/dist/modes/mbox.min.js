(function(a){if(typeof exports=="object"&&typeof module=="object")a(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],a);else a(CodeMirror)})(function(a){"use strict";var b=["From","Sender","Reply-To","To","Cc","Bcc","Message-ID","In-Reply-To","References","Resent-From","Resent-Sender","Resent-To","Resent-Cc","Resent-Bcc","Resent-Message-ID","Return-Path","Received"];var c=["Date","Subject","Comments","Keywords","Resent-Date"];a.registerHelper("hintWords","mbox",b.concat(c));var d=/^[ \t]/;var e=/^From /;var f=new RegExp("^("+b.join("|")+"): ");var g=new RegExp("^("+c.join("|")+"): ");var h=/^[^:]+:/;var i=/^[^ ]+@[^ ]+/;var j=/^.*?(?=[^ ]+?@[^ ]+)/;var k=/^<.*?>/;var l=/^.*?(?=<.*>)/;function m(a){if(a==="Subject")return"header";return"string"}function n(a,b){if(a.sol()){b.inSeparator=false;if(b.inHeader&&a.match(d)){return null}else{b.inHeader=false;b.header=null}if(a.match(e)){b.inHeaders=true;b.inSeparator=true;return"atom"}var c;var n=false;if((c=a.match(g))||(n=true)&&(c=a.match(f))){b.inHeaders=true;b.inHeader=true;b.emailPermitted=n;b.header=c[1];return"atom"}if(b.inHeaders&&(c=a.match(h))){b.inHeader=true;b.emailPermitted=true;b.header=c[1];return"atom"}b.inHeaders=false;a.skipToEnd();return null}if(b.inSeparator){if(a.match(i))return"link";if(a.match(j))return"atom";a.skipToEnd();return"atom"}if(b.inHeader){var o=m(b.header);if(b.emailPermitted){if(a.match(k))return o+" link";if(a.match(l))return o}a.skipToEnd();return o}a.skipToEnd();return null}a.defineMode("mbox",function(){return{startState:function(){return{inSeparator:false,inHeader:false,emailPermitted:false,header:null,inHeaders:false}},token:n,blankLine:function(a){a.inHeaders=a.inSeparator=a.inHeader=false}}});a.defineMIME("application/mbox","mbox")});
//# sourceMappingURL=mbox.min.js.map